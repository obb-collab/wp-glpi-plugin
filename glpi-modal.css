/* GLPI modal + actions (standalone) */
/* Не конфликтует: использованы префиксы .glpi-modal*, .glpi-act* */

.glpi-modal-open { overflow: hidden; }

.glpi-modal { position: fixed; inset: 0; display: none; z-index: 10000; }
.glpi-modal.is-open { display: block; }

.glpi-modal__backdrop {
  position: absolute; inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(2px);
}

.glpi-modal__dialog {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: min(980px, 94vw); max-height: 88vh;
  overflow: auto;
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}

.glpi-modal__actions {
  position: sticky; top: 0; z-index: 2;
  display: flex; gap: 8px; align-items: center;
  padding: 10px;
  background: linear-gradient(#0f172a, rgba(15,23,42,.92));
  border-bottom: 1px solid #334155;
}
.glpi-modal__close {
  margin-left: auto; border: 0; background: transparent;
  font-size: 28px; line-height: 1; color: #94a3b8; cursor: pointer;
}
.glpi-modal__close:hover { color: #f1f5f9; }

.glpi-act {
  border: 1px solid #334155; background: #1e293b; color: #e5e7eb;
  padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 600;
}
.glpi-act:hover { background: #334155; }
.glpi-act:disabled { opacity: .5; cursor: wait; }

.glpi-act--start    { outline: 2px solid #22c55e33; }
.glpi-act--done     { outline: 2px solid #3b82f633; }
.glpi-act--assignee { outline: 2px solid #a855f733; }
.glpi-act--status   { outline: 2px solid #f59e0b33; }

.glpi-modal__content { padding: 16px; }

.glpi-modal__comments { padding: 0 16px 16px 16px; border-top: 1px dashed #334155; }
.glpi-modal__comments-title { font-weight: 700; margin: 4px 0 8px 0; color: #e5e7eb; }
.glpi-modal__comments-body { display: grid; gap: 10px; }
.glpi-comment {
  background: #0b1220; border: 1px solid #334155; border-radius: 8px; padding: 10px;
  font-size: 14px; color: #cbd5e1; line-height: 1.4;
}
.glpi-comment .meta { font-size: 12px; color: #94a3b8; margin-bottom: 6px; }

.glpi-spinner { opacity: .85; }
.glpi-error { color: #ef4444; }
.glpi-empty { color: #94a3b8; }

/* Карточка внутри модалки — «распрямить» футеры/текст */
.glpi-card--in-modal { box-shadow: none !important; transform: none !important; padding-bottom: 8px; }
.glpi-card--in-modal .glpi-card-body { -webkit-line-clamp: unset; white-space: pre-wrap; }
.glpi-card--in-modal .glpi-executor-footer,
.glpi-card--in-modal .glpi-date-footer { position: static; display: inline-block; margin: 6px 12px 0 0; }
